{"version":3,"sources":["../../src/middlewares/verify-token.js"],"names":["module","exports","req","res","next","token","headers","query","body","decoded","jwt","verify","process","env","API_SECRET_KEY","decode","err","status","json","message"],"mappings":";;AAAA;;;;AAEA;AACAA,MAAM,CAACC,OAAP,GAAiB,CAACC,GAAD,EAAKC,GAAL,EAASC,IAAT,KAAiB;AAC9B,MAAG;AACC,UAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAY,gBAAZ,KAAiCJ,GAAG,CAACK,KAAJ,CAAUF,KAA3C,IAAoDH,GAAG,CAACM,IAAJ,CAASH,KAA3E;;AACA,UAAMI,OAAO,GAAGC,sBAAIC,MAAJ,CAAWN,KAAX,EAAiBO,OAAO,CAACC,GAAR,CAAYC,cAA7B,CAAhB;;AACAZ,IAAAA,GAAG,CAACa,MAAJ,GAAaN,OAAb;AACAL,IAAAA,IAAI;AACP,GALD,CAKC,OAAMY,GAAN,EAAU;AACPb,IAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACH;AACJ,CATD","sourcesContent":["import jwt from 'jsonwebtoken';\n\n// Create token middleware\nmodule.exports = (req,res,next) =>{\n    try{\n        const token = req.headers['x-access-token'] || req.query.token || req.body.token;\n        const decoded = jwt.verify(token,process.env.API_SECRET_KEY);\n        req.decode = decoded;\n        next();\n    }catch(err){\n        res.status(401).json({ message: \"You can't view page 'cause you aren't logged in.\" })\n    }\n}"],"file":"verify-token.js"}