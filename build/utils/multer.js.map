{"version":3,"sources":["../../src/utils/multer.js"],"names":["storage","multer","diskStorage","destination","req","file","cb","path","join","__dirname","filename","Date","toISOString","replace","originalname","uploadImage","single"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA;AACA,MAAMA,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AACjCC,EAAAA,WAAW,EAAE,UAAUC,GAAV,EAAeC,IAAf,EAAqBC,EAArB,EAAyB;AACpCA,IAAAA,EAAE,CAAC,IAAD,EAAOC,cAAKC,IAAL,CAAUC,SAAS,GAAG,aAAtB,CAAP,CAAF;AACD,GAHgC;AAIjCC,EAAAA,QAAQ,EAAE,UAAUN,GAAV,EAAeC,IAAf,EAAqBC,EAArB,EAAyB;AACjCA,IAAAA,EAAE,CACA,IADA,EAEA,IAAIK,IAAJ,GACGC,WADH,GAEGC,OAFH,CAEW,6CAFX,EAE0D,GAF1D,IAGER,IAAI,CAACS,YALP,CAAF;AAOD;AAZgC,CAAnB,CAAhB,C,CAeA;;;AACA,MAAMC,WAAW,GAAG,qBAAO;AAAEf,EAAAA,OAAO,EAAEA;AAAX,CAAP,EAA6BgB,MAA7B,CAAoC,WAApC,CAApB;eAEeD,W","sourcesContent":["import multer from \"multer\";\nimport path from 'path';\n\n// Create image\nconst storage = multer.diskStorage({\n  destination: function (req, file, cb) {\n    cb(null, path.join(__dirname + '/../uploads'));\n  },\n  filename: function (req, file, cb) {\n    cb(\n      null,\n      new Date()\n        .toISOString()\n        .replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, \"-\") +\n        file.originalname\n    );\n  },\n});\n\n// save roomImage index only.\nconst uploadImage = multer({ storage: storage }).single('roomImage');\n\nexport default uploadImage;"],"file":"multer.js"}